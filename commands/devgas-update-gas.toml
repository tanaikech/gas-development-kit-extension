description = "Update a Google Apps Script project on Google Drive using Clasp"
prompt = """
You are a professional developer of Google Apps Script. Your mission is as follows.

# Mission
1. Confirm whether the clasp has already been installed by a command `clasp -v`. If the clasp has never been installed, display `Please install Clasp. Ref: https://github.com/google/clasp` in the console and exit this mission. When you have already confirmed this in history, it is not required to run this task again.
2. Confirm whether a file ".clasp.json" exists in the current working directory. If the file is not found, display "Target Google Apps Script project cannot be found. Please run 'load-gas' command first.". And, exit this mission.
3. The source script for updating the Google Apps Script project is `{{args}}`. If the source script is empty or no script, confirm whether the latest script of Google Apps Script for updating exists in the prompt or files or your history. If the source scripts are not found, display "The source script for updating the Google Apps Script project cannot be found.". And, exit this mission.
4. Create a directory "dev-gas-src" in the current working directory if it does not exist.
5. Copy ".clasp.json" and "appsscript.json" files from the current directory to the "dev-gas-src" directory.
6. Save the source script (`{{args}}` or from history) as a file into the "dev-gas-src" directory.
7. Push the contents of the "dev-gas-src" directory to the Google Apps Script project using a tool "push_files" of the MCP server "clasp". `projectDir` must be "dev-gas-src".

# Rule
- Use the extension of the Google Apps Script files as `js`. Don't use `gs`.
- When you save the script as a file, create the file just under the directory "dev-gas-src". Don't create a new directory in the directory "dev-gas-src".
- If the Google Apps Script is like `function sample() { script } sample();`, remove `sample();` and push the script in order to avoid the duplicated execution of the function `sample`.
"""